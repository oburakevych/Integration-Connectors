{
	"manifest_version": "1.0",
	"tradeshift_version": "3.0",
	"vendor_id": "FicusTest",
	"app_id": "DropboxConnector",
	"version": "0.0.1",
	"comments": "Comment on anything. Comments are private.",
	"config": {
		"connector_host": "http://localhost:8180"
	},
	"default_locale": "en-GB",
	"locales": {
		"en-GB": {
			"app_name": "DBC",
			"app_desc": "This is my Tradeshift app.",
			"dropbox": "Dropbox",
			"intro_p1": " is a free service that lets you bring your photos, docs, and videos anywhere and share them easily. It uses cloud storage to enable users to store and share files and folders with others across the Internet using file synchronization.",
			"dropbox_activated_info": "Tradeshift app has been successfully activated in Dropbox",
			"dropbox_notactivated_error": "Tradeshift app was not activated in Dropbox",
			"connect_to_dropbox_error": "Error connecting to Dropbox",
			"activate_token_error": "Error activating Tradeshift app, please, try again"
		}
	},
	"images": {
		"icon_small.png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sBGA84OCghU9QAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAADDklEQVRIx7WWT28bVRTFf2fm2Y6NA4nSKI1UxK4EsWDRFikSn6RigVgjxJ5/KyS+QfkCwIYNS9iAkECoorsoVSUEqpS0agIEbMeOPfPeYWE7tpNJyyI8aTRXo/fOu/e8c88bvfP93wkskAEuOw7R1uzDdFxeHKJlQMBk58uNQ5nM04Y0nlmm8YMgF9SyMZKfvpyQTilC87jTdaMSFclsPJezvpQJ4M9+5PEgKWSikQst0LKIE8p0EUXmeGRdXc795laLV1ZyLdflDOgMrV+PSn/+oM/DXlK7nk0LqaDoghpHpXlpNfD+zWWuNMZJdYaJwrC2lHFzs87Was6nv3TZ7SQauf47RWVEWS5ub7W40pCw+epBn2/2RyoS3Nhs8PZWU+2lnNvXm3xy71j9aOrZeYqyMsllEpO3yyT6pb3Ryv3ySgDwvUdDf7Y74Ek/uTNM/nL3mB8PCgO+vhLYaGUeFJzDKZMcYoWK6jnsdwve/e6IjWbGX4NIyMfqKZJZqonVxjjdIplhNNEmpgqKSnOOIiGVyTzqRfa6UWNZis4oqRYy3rvR5tZaEMBPj0f83o0KmShdoaJkV6hItiEXChordlBa9ZD7o+3n2V4PAnz/cMidnYEKyzWJyXmebbSqszfGp10kTIn48PVlttcDAD/vnfDx3S69CO26qMaBEI3Gm2rqScAk7Qn+oDC3rjV442pNAD88HPDB3a5GFq0AZWJh7Xwc4ilFXijNMz59EmGzlStMGvDr307UjfILNRFtyUxP8gyOL6YIfLpLyGDncMSdHegNE/f/KWlkpkjjuZpn/jxFVV60SFFpyATNIK2GnBfbgf3DQs18popZYmdUFE21Fxk8KbM3Sry63tBbWy0DdPpR3+6PXF86zWaOojMqihepaM6jDBydRPoJWk78MUyAiUmzei+gSK99ceCq+8JzDhxt1po519o5OWavF3kySIRsKsCxlBcd29NOnm80UxVL4qAftdcrDaKWoVomR3vaJues/hmNVqWqsV1MR/GMm3Bm16n6RrusOJSW/8/fln8BCxTmj5DtdakAAAAASUVORK5CYII=",
		"icon_medium.png": "data:image/png;base64,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",
		"icon_large.png": "data:image/png;base64,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"
	},
	"icons": {
		"24": "icon_small.png",
		"48": "icon_medium.png",
		"128": "icon_large.png"
	},
	"components": {
		"Main": {
			"activation": "/app/${app.vendor_id}.${app.app_id}",
			"integration": {
				"append": "#mainframe"
			},
			"capabilities": {
				"system": {
					"alert": true,
					"getDate": true,
					"navigate": true
				},
				"rest": {
					"getRequest": true
				},
				"remote": {
					"getRequest": {
						"connector-dropbox-oauth": {
							"url": "${app.config.connector_host}/dropbox/oauth"
						}
					}
				},
				"storage": {
					"getStorage": true
				},
				"console": {
					"log": true
				},
				"notifications": {
					"showMessage": true,
					"showError": true
				},
				"codec": {
					"encodeBase64": true,
					"decodeBase64": true,
					"encodeUTF8": true,
					"decodeHex": true
				},
				"bunch": {
					"addClass": true,
					"removeClass": true
				},
				"data": {
					"getDatasource": true
				},
				"manifest": {
					"getManifest": true,
					"getMsg": true
				},
				"ui": {
					"submit": true,
					"href": true
				},
				"request": {
					"getParam": true
				}
			},
			"code": {
				"css": "%2F*%20%0A%20*%20Rules%20will%20be%20prefixed%20with%20a%20selector%20to%20match%20the%20component.%0A%20*%20%5Bselector%5D%20will%20become%20.vendorid.appid.componentid%20%5Bselector%5D.%0A%20*%20To%20style%20the%20component%20itself%2C%20use%20the%20simple%20selector%20%22this%22.%0A%20*%2F%0Athis%20%7B%0A%09display%3A%20block%3B%0A%7D%0A%0A.btn-wide%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D",
				"js": "%2F**%0A%20*%20The%20lib%20object%20is%20configured%20with%20properties%20and%0A%20*%20methods%20according%20to%20the%20components%20%22capabilities%22.%0A%20*%20%40param%20%7Bobject%7D%20lib%0A%20*%2F%0Afunction%20Component%20(%20lib%20)%20%7B%0A%20%20%20%20var%20COMPANY_ACCOUNT_ID_PARAM%20%3D%20%22companyAccountId%22%3B%0A%20%20%20%20var%20isActivated%20%3D%20false%3B%0A%20%20%20%20var%20CLASS_HIDDEN%20%3D%20%22hidden%22%3B%0A%20%20%20%20%0A%20%20%20%20function%20hideAll(dom)%20%7B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.addClass(dom.q(%22a.tst-activate-app%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.addClass(dom.q(%22div.tst-activated%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.addClass(dom.q(%22div.tst-not-activated%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20function%20showActivatedView(dom)%20%7B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.addClass(dom.q(%22div.tst-not-activated%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.addClass(dom.q(%22a.tst-activate-app%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.removeClass(dom.q(%22div.tst-activated%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20shouwInactivatedView(dom%2C%20companyAccountId)%20%7B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.addClass(dom.q(%22div.tst-activated%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20lib.ts.bunch.removeClass(dom.q(%22div.tst-not-activated%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20var%20oauthBuilder%20%3D%20lib.ts.remote.getRequest(%22connector-dropbox-oauth%22)%3B%0A%20%20%20%20%20%20%20%20oauthBuilder.path(%22request-token%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.queryParam(COMPANY_ACCOUNT_ID_PARAM%2C%20companyAccountId)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.contentType(%22application%2Fjson%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.accept(%22text%2Fplain%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.get(function(data)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.console.log(data)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.ui.href(dom.q(%22a.tst-activate-app%22)%2C%20data)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.bunch.removeClass(dom.q(%22a.tst-activate-app%22)%2C%20CLASS_HIDDEN)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20null%2C%20function(statusDesc%2C%20requestStatus)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.console.log(requestStatus)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20message%20%3D%20lib.ts.manifest.getMsg(%22dropbox_notactivated_error%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.notifications.showError(message%20%2B%20%22%20%22%20%2B%20requestStatus%20%2B%20%22%20%22%20%2B%20statusDesc)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20loadContent(dom%2C%20companyAccountId)%20%7B%0A%20%20%20%20%20%20%20%20var%20oauthBuilder%20%3D%20lib.ts.remote.getRequest(%22connector-dropbox-oauth%22)%3B%0A%20%20%20%20%20%20%20%20oauthBuilder.path(%22exists%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.queryParam(COMPANY_ACCOUNT_ID_PARAM%2C%20companyAccountId)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.contentType(%22application%2Fjson%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.accept(%22text%2Fplain%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.get(function(data)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.console.log(data)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(data%20!%3D%3D%20null%20%26%26%20data%20%3D%3D%3D%20%22true%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showActivatedView(dom)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20shouwInactivatedView(dom%2C%20companyAccountId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20null%2C%20function(statusDesc%2C%20requestStatus)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.console.log(requestStatus)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20message%20%3D%20lib.ts.manifest.getMsg(%22connect_to_dropbox_error%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.notifications.showError(message%20%2B%20%22%20%22%20%2B%20requestStatus%20%2B%20%22%20%22%20%2B%20statusDesc)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%09%0A%09return%20%7B%0A%09%09%0A%09%09%2F**%0A%09%09%20*%20Invoked%20when%20element%20is%20first%20introduced%20(on%20page%20load%20or%20by%20AJAX%20update)%0A%09%09%20*%20%40param%20%7Bobject%7D%20dom%20The%20ADsafe%20dom%20wrapper%0A%09%09%20*%2F%0A%09%09onload%20%3A%20function%20(%20dom%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideAll(dom)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ds%20%3D%20lib.ts.data.getDatasource()%3B%0A%20%20%20%20%09%09var%20companyAccountResource%20%3D%20ds.getResource(%20%22urn%3Atradeshift%3AActor%22%20).getObject(%20%22ts%3AcompanyAccount%22%20)%3B%0A%09%09%09var%20companyAccountId%20%3D%20companyAccountResource.getObject(%20%22ts%3Aid%22%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20request_token%20%3D%20lib.ts.request.getParam(%22oauth_token%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oauthBuilder%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(request_token)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oauthBuilder%20%3D%20lib.ts.remote.getRequest(%22connector-dropbox-oauth%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oauthBuilder.path(%22access-token%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.queryParam(COMPANY_ACCOUNT_ID_PARAM%2C%20companyAccountId)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.contentType(%22application%2Fjson%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.post(function(data)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.console.log(data)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20message%20%3D%20lib.ts.manifest.getMsg(%22dropbox_activated_info%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.notifications.showMessage(message)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadContent(dom%2C%20companyAccountId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20null%2C%20function(statusDesc%2C%20requestStatus)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.console.log(requestStatus)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20message%20%3D%20lib.ts.manifest.getMsg(%22activate_token_error%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lib.ts.notifications.showError(message%20%2B%20%22%20%22%20%2B%20requestStatus%20%2B%20%22%20%22%20%2B%20statusDesc)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadContent(dom%2C%20companyAccountId)%3B%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%09%09%7D%2C%0A%09%09%0A%09%09%2F**%0A%09%09%20*%20Invoked%20whenever%20new%20data%20is%20found%20in%20the%20public%20RDF%20datasource.%0A%09%09%20*%20%40param%20%7Bboolean%7D%20isIndexed%20True%20when%20data%20was%20indexed%20by%20RDFa%20in%20the%20page%20DOM.%0A%09%09%20*%2F%0A%09%09ondata%20%3A%20function%20(%20isIndexed%20)%20%7B%7D%2C%0A%09%09%0A%09%09%2F**%0A%09%09%20*%20Invoked%20before%20element%20is%20updated%20(AJAX%20update)%0A%09%09%20*%2F%0A%09%09onbeforeupdate%20%3A%20function%20()%20%7B%7D%2C%0A%09%09%0A%09%09%2F**%0A%09%09%20*%20Invoked%20after%20element%20is%20updated%20(AJAX%20update)%0A%09%09%20*%20%40param%20%7Bobject%7D%20dom%20The%20ADsafe%20dom%20wrapper.%0A%09%09%20*%2F%0A%09%09onafterupdate%20%3A%20function%20(%20dom%20)%20%7B%7D%2C%0A%09%09%0A%09%09%2F**%0A%09%09%20*%20Invoked%20on%20window.unload%0A%09%09%20*%2F%0A%09%09onunload%20%3A%20function%20()%20%7B%7D%0A%09%7D%3B%0A%7D",
				"xhtml": "%3Chtml%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%0A%09%3Chead%3E%0A%09%09%3Ctitle%3EDropbox%20Connector%3C%2Ftitle%3E%0A%09%3C%2Fhead%3E%0A%09%3Cbody%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22size_medium%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22tst-not-activated%20yellow%20box%20r_all%20hidden%20bmarg30%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EIn%20order%20to%20use%20the%20app%20you%20have%20to%20activate%20the%20Tradeshift%20app%20for%20your%20Dropbox%20account%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22tst-box%20grey%20border%20box%20r_all%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Ca%20title%3D'%24%7Blocales.about_dropbox%7D'%20target%3D'_blank'%20href%3D'https%3A%2F%2Fwww.dropbox.com'%3E%24%7Blocales.dropbox%7D%3C%2Fa%3E%20%24%7Blocales.intro_p1%7D%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22tst-activated%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3ETradeshift%20app%20is%20activated%20for%20your%20Dropbox%20account%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22line%20tmarg30%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20class%3D%22tst-activate-app%20hidden%20button%20action%20padded%20r_all%20btn-wide%22%20href%3D%22%23%22%3EActivate%20Tradeshift%20app%20in%20Dropbox%3C%2Fa%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E"
			}
		}
	},
	"backends": {
		"MyTestBackend": {
			"events": [
				"BEFORE_DOCUMENT_RECEIVE"
			],
			"capabilities": {},
			"code": {
				"js": "%2F%2A%2A%0A%20%2A%20%54%68%65%20%6C%69%62%20%6F%62%6A%65%63%74%20%69%73%20%63%6F%6E%66%69%67%75%72%65%64%20%77%69%74%68%20%70%72%6F%70%65%72%74%69%65%73%20%61%6E%64%0A%20%2A%20%6D%65%74%68%6F%64%73%20%61%63%63%6F%72%64%69%6E%67%20%74%6F%20%74%68%65%20%62%61%63%6B%65%6E%64%73%20%22%63%61%70%61%62%69%6C%69%74%69%65%73%22%2E%0A%20%2A%20%40%70%61%72%61%6D%20%7B%6F%62%6A%65%63%74%7D%20%6C%69%62%0A%20%2A%2F%0A%66%75%6E%63%74%69%6F%6E%20%42%61%63%6B%65%6E%64%20%28%20%6C%69%62%20%29%20%7B%0A%20%20%20%20%0A%20%20%20%20%72%65%74%75%72%6E%20%7B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20%48%61%6E%64%6C%65%20%65%76%65%6E%74%2E%0A%20%20%20%20%20%20%20%20%20%2A%20%40%70%61%72%61%6D%20%7B%54%72%61%64%65%73%68%69%66%74%45%76%65%6E%74%7D%20%65%76%65%6E%74%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20%6F%6E%65%76%65%6E%74%20%3A%20%66%75%6E%63%74%69%6F%6E%20%28%20%65%76%65%6E%74%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%73%77%69%74%63%68%20%28%20%65%76%65%6E%74%2E%65%76%65%6E%74%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%63%61%73%65%20%22%42%45%46%4F%52%45%5F%44%4F%43%55%4D%45%4E%54%5F%52%45%43%45%49%56%45%22%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%64%6F%73%6F%6D%65%74%68%69%6E%67%20%28%20%65%76%65%6E%74%2E%64%61%74%61%20%29%3B%20%2F%2F%20%62%75%69%6C%64%20%69%6E%20%22%68%65%6C%6C%6F%20%77%6F%72%6C%64%22%20%6D%65%74%68%6F%64%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%72%65%74%75%72%6E%20%65%76%65%6E%74%2E%41%43%43%45%50%54%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%62%72%65%61%6B%3B%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%7D"
			}
		}
	}
}